<style type="text/css">
    #main { margin-top: 20px !important; }
</style>

<!-- Owner -->
<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-primary" style="margin-left: 15px; margin-right: 30px;">
            <div class="panel-body">
                <span style="font-weight: bold; font-size: large;">Klijent: {{ client.OwnerName }} {{ client.OwnerSurnameOrBusinessName }}</span><br />
                <span style="font-weight: bold; font-size: small;">(Preporuka: {{ client.RecommendedBy || '-' }})</span>&nbsp;&nbsp;
                <i class="fa fa-pencil txt-color-blue" style="cursor: pointer;" ng-click="editClient('RecommendedBy')"></i>
            </div>
        </div>
    </div>
</div>

<!-- User -->
<div class="row">
    <div class="col-lg-6 col-md-6 col-sm-12">
        <div class="panel panel-primary" style="margin-left: 15px; margin-right: 30px;">
            <div class="panel-heading" style="background-color: #3a3633; font-weight: bold;">Vlasnik</div>
            <div class="panel-body">
                <table class="table table-condensed">
                    <tbody>
                        <tr>
                            <td style="width: 30%;"><strong>JMBG/MB</strong></td>
                            <td>{{ client.OwnerPersonalNo }}</td>
                            <td>
                                <button class="btn btn-sm btn-primary pull-right"
                                        ng-click="editClient('OwnerPersonalNo')"
                                        title="Ažuriranje JMBG/MB">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td style="width: 30%;"><strong>PIB</strong></td>
                            <td>{{ client.OwnerPIB }}</td>
                            <td>
                                <button class="btn btn-sm btn-primary pull-right"
                                        ng-click="editClient('OwnerPIB')"
                                        title="Ažuriranje PIB">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td style="width: 30%;"><strong>Ime</strong></td>
                            <td>{{ client.OwnerName }}</td>
                            <td>
                                <button class="btn btn-sm btn-primary pull-right"
                                        ng-click="editClient('OwnerName')"
                                        title="Ažuriranje imena">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td style="width: 30%;"><strong>Prezime/Naziv firme</strong></td>
                            <td>{{ client.OwnerSurnameOrBusinessName }}</td>
                            <td>
                                <button class="btn btn-sm btn-primary pull-right"
                                        ng-click="editClient('OwnerSurnameOrBusinessName')"
                                        title="Ažuriranje prezimena/naziva firme">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td style="width: 30%;"><strong>Adresa</strong></td>
                            <td>{{ client.OwnerAddress }}</td>
                            <td>
                                <button class="btn btn-sm btn-primary pull-right"
                                        ng-click="editClient('OwnerAddress')"
                                        title="Ažuriranje adrese">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td style="width: 30%;"><strong>Telefon</strong></td>
                            <td>{{ client.OwnerPhone }}</td>
                            <td>
                                <button class="btn btn-sm btn-primary pull-right"
                                        ng-click="editClient('OwnerPhone')"
                                        title="Ažuriranje broja telefona">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td style="width: 30%;"><strong>E-mail</strong></td>
                            <td>{{ client.OwnerEmail }}</td>
                            <td>
                                <button class="btn btn-sm btn-primary pull-right"
                                        ng-click="editClient('OwnerEmail')"
                                        title="Ažuriranje e-mail adrese">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="col-lg-6 col-md-6 col-sm-12">
        <div class="panel panel-primary" style="margin-left: 15px; margin-right: 30px;">
            <div class="panel-heading" style="background-color: #3a3633; font-weight: bold;">Korisnik</div>
            <div class="panel-body">
                <table class="table table-condensed">
                    <tbody>
                        <tr>
                            <td style="width: 30%;"><strong>JMBG/MB</strong></td>
                            <td>{{ client.UserPersonalNo }}</td>
                            <td>
                                <button class="btn btn-sm btn-primary pull-right"
                                        ng-click="editClient('UserPersonalNo')"
                                        title="Ažuriranje JMBG/MB">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td style="width: 30%;"><strong>PIB</strong></td>
                            <td>{{ client.UserPIB }}</td>
                            <td>
                                <button class="btn btn-sm btn-primary pull-right"
                                        ng-click="editClient('UserPIB')"
                                        title="Ažuriranje PIB">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td style="width: 30%;"><strong>Ime</strong></td>
                            <td>{{ client.UserName }}</td>
                            <td>
                                <button class="btn btn-sm btn-primary pull-right"
                                        ng-click="editClient('UserName')"
                                        title="Ažuriranje imena">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td style="width: 30%;"><strong>Prezime/Naziv firme</strong></td>
                            <td>{{ client.UserSurnameOrBusinessName }}</td>
                            <td>
                                <button class="btn btn-sm btn-primary pull-right"
                                        ng-click="editClient('UserSurnameOrBusinessName')"
                                        title="Ažuriranje prezimena/naziva firme">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td style="width: 30%;"><strong>Adresa</strong></td>
                            <td>{{ client.UserAddress }}</td>
                            <td>
                                <button class="btn btn-sm btn-primary pull-right"
                                        ng-click="editClient('UserAddress')"
                                        title="Ažuriranje adrese">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td style="width: 30%;"><strong>Telefon</strong></td>
                            <td>{{ client.UserPhone }}</td>
                            <td>
                                <button class="btn btn-sm btn-primary pull-right"
                                        ng-click="editClient('UserPhone')"
                                        title="Ažuriranje broja telefona">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td style="width: 30%;"><strong>E-mail</strong></td>
                            <td>{{ client.UserEmail }}</td>
                            <td>
                                <button class="btn btn-sm btn-primary pull-right"
                                        ng-click="editClient('UserEmail')"
                                        title="Ažuriranje e-mail adrese">
                                    <i class="fa fa-pencil"></i>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- Vehicles/Registration Data -->
<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-primary" style="margin-left: 15px; margin-right: 30px;">
            <div class="panel-heading" style="background-color: #3a3633; font-weight: bold;">
                <span>Vozila</span>
                <div class="btn-group pull-right margin-right-5">
                    <button class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown">
                        <i class="fa fa-bars"></i>&nbsp;&nbsp;Akcije
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu">
                        <li><a href ng-click="addVehicleManually()">Unos novog vozila/saobraćajne dozvole</a></li>
                        <li><a href ng-click="addVehicle()">Preuzimanje podataka iz saobraćajne dozvole</a></li>
                    </ul>
                </div>
            </div>
            <div class="panel-body">
                <table class="table table-condensed table-hover">
                    <thead>
                        <tr>
                            <td><strong>Registracija</strong></td>
                            <td><strong>Model</strong></td>
                            <td><strong>Datum prve registracije</strong></td>
                            <td><strong>Datum isteka registracije</strong></td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="vehicle in client.Vehicles" ng-click="getVehicleRegistrations(vehicle)" style="cursor: pointer;">
                            <td>{{ vehicle.RegistrationNumber }}</td>
                            <td>{{ vehicle.Make }} {{ vehicle.Model }}</td>
                            <td>{{ vehicle.FirstRegistrationDate | date: 'dd.MM.yyyy' }}</td>
                            <td>{{ vehicle.NextRegistrationDate | date: 'dd.MM.yyyy' }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- Vehicle registrations -->
<div class="row" ng-show="selectedVehicle.visible">
    <div class="col-lg-12">
        <div class="panel panel-primary" style="margin-left: 15px; margin-right: 30px;">
            <div class="panel-heading" style="background-color: #3a3633; font-weight: bold;">
                <span>Registracije za vozilo {{ selectedVehicle.vehicle.RegistrationNumber }}</span>
                <div class="btn-group pull-right margin-right-5">
                    <button class="btn btn-success btn-xs dropdown-toggle" data-toggle="dropdown">
                        <i class="fa fa-bars"></i>&nbsp;&nbsp;Akcije
                        <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu">
                        <li><a href ng-click="addVehicleRegistration()">Dodaj novu registraciju</a></li>
                    </ul>
                </div>
            </div>
            <div class="panel-body">
                <p style="font-variant:small-caps; margin-left: 10px" ng-show="vehicleRegistrations.length === 0">nema podataka.</p>
                <table class="table table-condensed table-hover"  ng-show="vehicleRegistrations.length > 0">
                    <thead>
                        <tr>
                            <td><strong>Datum registracije</strong></td>
                            <td><strong>Cena</strong></td>
                            <td><strong>Broj rata</strong></td>
                            <td></td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="reg in vehicleRegistrations">
                            <td>{{ reg.RegistrationDate | date: 'dd.MM.yyyy' }}</td>
                            <td>{{ reg.TotalAmount }}</td>
                            <td>{{ reg.NumberOfInstallments }}</td>
                            <td>
                                <button class="btn btn-primary btn-xs pull-right margin-right-5" title="Pregled rata" ng-click="showInstallments(reg)"><i class="fa fa-dollar"></i></button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
